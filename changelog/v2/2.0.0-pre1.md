## ðŸ“š Notices

*This is a pre-release version distributed to assist in migrating to the new API.*  
*Content in this document is subject to change before the official 2.0.0 release.*

Starting with this version, NaturalModels is officially designated as v2.0.0.  
Please be aware that this update introduces several Breaking Changes.

## âœ¨ Feats
### Fabric platform port
NaturalModels now supports the Fabric platform as a server-side mod.

- Supported: Dedicated Server, Integrated Server (Singleplayer)
- Unsupported: Hybrid servers (e.g., Arclight, Mohist)

## ðŸš€ Breaking Changes
### Publishing & Dependencies
The legacy `io.github.toxicity188:NaturalModels` package is no longer published.

Starting with v2.0.0, the project is split into the following modules:
- `NaturalModels-api`: Common API module.
- `NaturalModels-core`: Internal core module (Internal use only).
- `NaturalModels-bukkit-api`: API for Bukkit-based environments (Spigot, Paper, etc.).
- `NaturalModels-fabric`: Server-side mod implementation for Fabric.

Please refer to `README.md` for detailed build script instructions.

<details>
<summary>Gradle (Kotlin)</summary>

#### Release
```kotlin
repositories {
    mavenCentral()
    maven("https://maven.blamejared.com/") // For transitive dependency in NaturalModels-fabric
    maven("https://maven.nucleoid.xyz/") // For transitive dependency in NaturalModels-fabric
}

dependencies {
    compileOnly("io.github.toxicity188:NaturalModels-bukkit-api:VERSION") // bukkit(spigot, paper, etc) api
    //modApi("io.github.toxicity188:NaturalModels-fabric:VERSION") // mod(fabric)
}
```

#### Snapshot
```kotlin
repositories {
    maven("https://maven.pkg.github.com/toxicity188/NaturalModels") {
        credentials {
            username = YOUR_GITHUB_USERNAME
            password = YOUR_GITHUB_TOKEN
        }
    }
    maven("https://maven.blamejared.com/") // For transitive dependency in NaturalModels-fabric
    maven("https://maven.nucleoid.xyz/") // For transitive dependency in NaturalModels-fabric
}

dependencies {
    compileOnly("io.github.toxicity188:NaturalModels-bukkit-api:VERSION-SNAPSHOT") // bukkit(spigot, paper, etc) api
    //modApi("io.github.toxicity188:NaturalModels-fabric:VERSION-SNAPSHOT") // mod(fabric)
}
```
</details>

### API & Event System
- **Platform Adapters**: You must now use the appropriate adapter for your platform (e.g., `BukkitAdapter`, `FabricAdapter`).
- **Event Bus**: `NaturalModelsEventBus` (accessible via NaturalModels#eventBus) has been introduced. Bukkit's Event API is no longer supported.

<details open>
<summary>Adapter API Usage (Bukkit)</summary>

```java
EntityTracker tracker = NaturalModels.model("demon_knight")
    .map(r -> r.create(BukkitAdapter.adapt(entity), TrackerModifier.DEFAULT, t -> t.update(TrackerUpdateAction.tint(0x0026FF))))
    .orElse(null);
```
</details>

<details>
<summary>Event API Usage (Bukkit)</summary>

```java
import org.bukkit.plugin.java.JavaPlugin;
import id.naturalsmp.naturalmodels.api.NaturalModels;
import id.naturalsmp.naturalmodels.api.data.ModelAsset;
import id.naturalsmp.naturalmodels.api.data.renderer.ModelRenderer;
import id.naturalsmp.naturalmodels.api.event.ModelAssetsEvent;

import java.util.*;

public class YourPlugin extends JavaPlugin {
    @Override
    public void onEnable() {
        NaturalModels.eventBus().subscribe(ModelAssetsEvent.class, event -> {
            if (event.type() == ModelRenderer.Type.PLAYER) event.addAsset(ModelAsset.of(
                "knight",
                () -> Objects.requireNonNull(getResource("knight.bbmodel"))
            ));
        });
    }
}
```
</details>

### Bukkit Compatibility
To optimize the project, support for the following versions (which showed low usage) has been removed:
- 1.20.5 ~ 1.20.6
- 1.21.2 ~ 1.21.3

## ðŸ§¹ Chores
- chore(deps): update gradle to v9.3.0
- chore(deps): update plugin com.vanniktech.maven.publish to v0.36.0
- chore: update dependency io.github.toxicity188:armormodel to v1.0.2

[Full change log](https://github.com/toxicity188/NaturalModels/compare/1.15.2...2.0.0-pre1)

